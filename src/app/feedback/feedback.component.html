<div class="feedback-container">
  <div class="feedback-content">

    <!-- Left Side: Image -->
    <div class="feedback-image">
      <div class="feedback-message">
        <h2 class="btn-shine">We Value Your Feedback!</h2>
        <p>Your voice helps us grow! Whether you're a <span class="hihlt">student, entrepreneur, industry partner, or curious visitor</span> — your feedback shapes how we innovate and serve you better.</p>
    
        <h3>How Your Feedback Helps Us Improve:</h3>
        <ul>
            <li>✅ Helps us improve and tailor our services to your needs</li>
            <li>✅ Highlights areas of improvement </li>
            <li>✅ Contributes to a smoother, more intuitive user experience</li>
            <li>✅ Drives our commitment to excellence in everything we offer</li>
        </ul>
    </div>
    </div>

<div class="feedback-form">
  <form (submit)="submitFeedback()">

    <!-- Input Grid -->
    <div class="input-grid">
      <div>
        <label for="name">Name:</label>
        <input type="text" id="name" [(ngModel)]="feedback.name" name="name" required>
      </div>

      <div>
        <label for="designation">Designation:</label>
        <input type="text" id="designation" [(ngModel)]="feedback.designation" name="designation" required>
      </div>

      <div>
        <label for="email">Email ID:</label>
        <input type="email" id="email" [(ngModel)]="feedback.email" name="email" required>
      </div>

      <div>
        <label for="visitPurpose">Visit Purpose:</label>

        <ng-container *ngIf="!isOtherPurposeSelected; else otherInput">
          <div class="visit-purpose-wrapper">
            <select id="visitPurpose" [(ngModel)]="feedback.visitPurpose" name="visitPurpose" (change)="checkOtherOption($event)" required>
              <option value="" disabled selected>Select Purpose</option>
              <option *ngFor="let purpose of visitPurposes" [value]="purpose">{{ purpose }}</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </ng-container>

        <ng-template #otherInput>
          <div class="visit-purpose-wrapper">
            <input type="text" placeholder="Enter custom purpose" [(ngModel)]="feedback.visitPurpose" name="visitPurpose" required>
            <button type="button" (click)="resetToDropdown()" title="Back to dropdown" class="reset-button">⟲</button>
          </div>
        </ng-template>
      </div>

    </div>

    <!-- Feedback Textarea -->
    <label for="feedback">Feedback:</label>
    <textarea id="feedback" [(ngModel)]="feedback.message" name="feedback" rows="4" required></textarea>

    <!-- Emoji Rating -->
    <div class="emoji-rating">
      <span *ngFor="let emoji of emojis; let i = index" (click)="setRating(i + 1)" (mouseover)="hoverRating(i + 1)" (mouseleave)="resetHover()">
        <span class="emoji" [class.filled]="feedback.rating === (i + 1)" [title]="emoji.tooltip">
          {{ feedback.rating === (i + 1) ? emoji.filled : emoji.default }}
        </span>
      </span>
    </div>

    <!-- Submit Button -->
    <button type="submit">Submit</button>
  </form>
</div>

  </div>
</div>